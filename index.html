<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
    <script>
        //Function to return rock paper or scissors randomly. This will
        //be used as an AI to play against. 
        function computerPlay()
        {
            switch(Math.floor(Math.random() * 3))
            {
                case 0:
                    return 'rock';
                    break;
                case 1:
                    return 'paper';
                    break;
                case 2:
                    return 'scissors';
                    break;
            }
        }
        //Function to get user choice. If user choice isn't valid, make them choose
        //again.
        function userPlay()
        {
            let userChoice = prompt("Please choose rock, paper, or scissors.");
            const rpsArr = ["rock", "paper", "scissors"];
            while(!rpsArr.includes(userChoice.toLowerCase()))
            {
                userChoice = prompt("Please choose rock, paper, or scissors.");
            }
            return userChoice;
        }
        
        //Gets player and computer choices and checks logic to see who won
        function playRound(playerSelection, computerSelection)
        {
            let outcome;
            if(playerSelection == computerSelection)
            {
                outcome = "Draw";
            }
            else if((playerSelection == "rock" && computerSelection == "scissors") || (playerSelection == "paper" && computerSelection == "rock") || (playerSelection == "scissors" && computerSelection == "paper"))
            {
                outcome = "Player";
            }
            else
            {
                outcome = "Computer";
            }
            return outcome;
        }
        //Main game function
        function game()
        {
            let roundCount = 0;
            let playerScore = 0;
            let computerScore = 0;
            while(roundCount < 5)
            {
                roundCount++;
                //Set each selection into a constant
                let playerSelection = userPlay();
                let computerSelection = computerPlay();
                switch(playRound(playerSelection, computerSelection))
                {
                    case "Draw":
                        console.log("Player chose " + playerSelection + ", Computer chose " + computerSelection + ". Draw.");
                        break;
                    case "Player":
                        console.log("Player chose " + playerSelection + ", Computer chose " + computerSelection + ". Player wins.");
                        playerScore++;
                        break;
                    case "Computer":
                        console.log("Player chose " + playerSelection + ", Computer chose " + computerSelection + ". Computer wins.");
                        computerScore++;
                        break;
                }
                console.log("After round " + roundCount + ", Player is on " + playerScore + " points, computer is on " + computerScore + " points.")
            }
            console.log("Final scores.... Player: " + playerScore + " Computer: " + computerScore);
            if(playerScore > computerScore)
            {
                console.log("Player wins!");
            }
            else if(playerScore < computerScore)
            {
                console.log("Computer wins!");
            }
            else
            {
                console.log("It's a draw!");
            }
        }

        game();
        
    </script>
</head>
<body>
    
</body>
</html>